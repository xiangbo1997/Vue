<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>Document</title>
</head>

<body>
    <div id="app">
        <com-a v-if="show"></com-a>
        <button @click="show=!show">切换显隐</button>
    </div>
    <script>
      /* 结论：生命周期执行顺序
       * 1. 父组件 beforeCreate created beforeMount --> 子组件 beforeCreate created beforeMount mounted -->父组件mounted
       * 2. 父组件 beforeUpdate --> 子组件beforeUpdate updated --> 父组件updated
       * 3. 父组件 beforeDestroy --> 子组件beforeDestroy destroyed --> 父组件destroyed
       */
        const comB = {
            template: `<p>test1{{abc}}</p>`,
            props: {
              abc: {
                type: String,
              },
            },
            created() {
                console.log('son', 'created');
            },
            beforeCreate() {
                console.log('son', 'beforecreate');
            },
            mounted() {
                console.log('son', 'mounted');
            },
            beforeMount() {
                console.log('son', 'beforemount');
            },
            beforeUpdate() {
                console.log('son', 'beforeupdate');
            },
            updated() {
                console.log('son', 'updated');
            },
            beforeDestroy() {
                console.log('son', 'beforeDestroy');
            },
            destroyed() {
                console.log('son', 'destroyed');
            }
        }
        const comA = {
            template: `<p>test<com-b :abc="abc"></com-b> <button @click="abc='2345'">111</button></p>`,
            created() {
              console.log('father', 'created');
            },
            beforeCreate() {
                console.log('father', 'beforecreate');
            },
            mounted() {
                console.log('father', 'mounted');
            },
            beforeMount() {
                console.log('father', 'beforemount');
            },
            beforeUpdate() {
                console.log('father', 'beforeupdate');
            },
            updated() {
                console.log('father', 'updated');
            },
            beforeDestroy() {
                console.log('father', 'beforeDestroy');
            },
            destroyed() {
                console.log('father', 'destroyed');
            },
            components: {
                'com-b': comB,
            },
            data() {
                return {
                    abc: '123',
                }
            },

        }
        const vm = new Vue({
            el: '#app',
            data: {
                show: true,
            },
            components: {
                'com-a': comA,
            }

        })
    </script>

</body>

</html>